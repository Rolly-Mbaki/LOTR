<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/blacklist.css">
    <link rel="stylesheet" href="../css/nav.css">
    <script src="../js/dialog.js" defer></script>
    <title>Quotes: Blacklisted</title>
    <link rel="icon" type="image/x-icon" href="../assets/lotr.ico">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <script src="../js/dropdownMenu.js"></script>
    <script src="https://kit.fontawesome.com/2391a493c1.js" crossorigin="anonymous"></script>
</head>
<body>

    <%- include("partials/header") %>

    <main>
        <!-- <dialog open class="modal" id="modal">
            <h2>Lorem ipsum dolor sit amet</h2>
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Sapiente impedit laboriosam hic ducimus quidem voluptatum, cum delectus quis consectetur excepturi commodi placeat est quibusdam nostrum ipsa nobis soluta temporibus ipsam.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Corporis placeat exercitationem ut doloribus architecto. Quos reiciendis hic repellat nihil autem veniam nulla a totam, accusantium praesentium? Fugiat odit fugit eius?</p>
        </dialog> -->
        

        <% if (blQuotes.length > 0) { blQuotes.forEach((quote,index) => { %>

            <dialog id="modal">
                <div class="modal">
                    <h2>Change reason</h2>
                    <form action="" onsubmit="updateBlQuote('<%= index %>')">
                        <textarea id="myReason" class="form-text" cols="30" rows="10" placeholder="Give a reason" required></textarea>
                        <button type="submit" class="card-button">Save</button>
                        <button type="button" class="card-button close-button">Close</button>
                    </form>
                </div>
            </dialog>

            <div class="card">
                <section class="card-info">
                    <p class="card-text">Name:</p>
                    <p class="card-answer"><%= quote.character %></p>
                    <p class="card-text">Quote:</p>
                    <p class="card-answer quote">"<%= quote.quote %>"</p>
                    <p class="card-text">Reason for ban:</p>
                    <p class="card-answer"><%= quote.reason %></p>
                </section>
                <section class="card-click">
                    <button type="button" class="card-button open-button">Change reason</button>
                    <button type="button" onclick="deleteBlQuote('<%= index %>')" class="card-button">Delete</button>
                </section>
            </div>
        <% })} else {%>
            <div class="card">
                <h1 style="text-align: center;">You don't have any favorite quotes yet! Play one of the quizes below to start your collection</h1>
                <section class="quizlinks">
                    <a href="/tenRound">10 rounds quiz</a>
                    <a href="/suddenDeath">sudden death quiz</a>
                </section>
            </div>
        <% } %>
        
    </main>
    
    <%- include("partials/footer") %>
    <div id="data" style="display: none;"><%- JSON.stringify(blQuotes) %></div>
    <script src="../js/deleteQuote.js"></script>

</body>
</html>